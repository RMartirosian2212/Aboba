@{
    ViewBag.Title = "Export orders";
}

<h2>Export Orders</h2>

<form method="post" asp-action="Export">
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="startDate">File name:</label>
            <input type="text" class="form-control" id="fileName" name="fileName" placeholder="Could be empty"/>
        </div>
        <div class="form-group col-md-6">
            <label for="startDate">Start Date:</label>
            <input type="date" class="form-control" id="startDate" name="startDate" required/>
        </div>
        <div class="form-group col-md-6">
            <label for="endDate">End Date:</label>
            <input type="date" class="form-control" id="endDate" name="endDate" required/>
        </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Export</button>
</form>

@section Scripts {
    <script>
        $(document).ready(function () {
            var startDateInput = $('#startDate');
            var endDateInput = $('#endDate');

            startDateInput.on('change', function () {
                var startDate = $(this).val();
                endDateInput.attr('min', startDate);

                if (endDateInput.val() < startDate) {
                    endDateInput.val('');
                }
            });

            endDateInput.on('change', function () {
                var endDate = $(this).val();
                startDateInput.attr('max', endDate);

                if (startDateInput.val() > endDate) {
                    startDateInput.val('');
                }
            });
        });
    </script>
}